<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NoaChess</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>â™</text></svg>">
  <link rel="stylesheet" href="assets/chessground.css">
  <link rel="stylesheet" href="assets/chessground.cburnett.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: #fff;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }

    body.dark {
      background: #1a1a1a;
      color: #e0e0e0;
    }

    header {
      padding: 20px;
      text-align: center;
      border-bottom: 2px solid #8B4513;
    }

    h1 {
      font-size: 2.5rem;
      color: #8B4513;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #666;
      font-size: 1rem;
    }

    body.dark .subtitle {
      color: #aaa;
    }

    main {
      display: flex;
      max-width: 1200px;
      margin: 30px auto;
      padding: 20px;
      gap: 30px;
    }

    .board-wrapper {
      display: flex;
      flex-direction: row;
    }

    .captured-container {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      width: 40px;
      height: 600px;
      margin-right: 8px;
    }

    .captured-pieces {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      padding: 5px 0;
    }

    #capturedTop {
      justify-content: flex-start;
    }

    #capturedBottom {
      justify-content: flex-end;
    }

    .captured-piece {
      font-size: 20px;
      line-height: 1;
    }

    .captured-piece.white {
      color: #fff;
      text-shadow: 0 0 2px #000, 0 0 2px #000;
    }

    .captured-piece.black {
      color: #333;
    }

    body.dark .captured-piece.white {
      color: #eee;
      text-shadow: 0 0 2px #000;
    }

    body.dark .captured-piece.black {
      color: #888;
    }

    .board-container {
      flex: 0 0 600px;
    }

    #board {
      width: 600px;
      height: 600px;
    }

    .controls {
      flex: 1;
      min-width: 300px;
    }

    .section {
      background: #f5f5f5;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    body.dark .section {
      background: #2a2a2a;
      border-color: #444;
    }

    .section h2 {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: #8B4513;
    }

    .btn {
      background: #8B4513;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      margin-right: 10px;
      margin-bottom: 10px;
    }

    .btn:hover {
      background: #6d3410;
    }

    .btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .input-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }

    input[type="number"] {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
    }

    body.dark input[type="number"] {
      background: #333;
      border-color: #555;
      color: #e0e0e0;
    }

    .checkbox-group {
      margin-bottom: 10px;
    }

    .checkbox-group label {
      display: inline;
      font-weight: normal;
      margin-left: 5px;
    }

    #status {
      padding: 10px;
      background: #e8f4f8;
      border-left: 4px solid #2196F3;
      margin-bottom: 15px;
      border-radius: 4px;
    }

    body.dark #status {
      background: #1a3a4a;
      border-color: #42a5f5;
    }

    #eval {
      font-size: 0.9rem;
      color: #666;
      margin-top: 5px;
    }

    body.dark #eval {
      color: #aaa;
    }

    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #8B4513;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 1.2rem;
    }

    @media (max-width: 1000px) {
      main {
        flex-direction: column;
        align-items: center;
      }

      .board-wrapper {
        flex: none;
      }

      .board-container {
        flex: none;
      }

      .controls {
        width: 100%;
        max-width: 600px;
      }
    }

    /* Brown board theme */
    .cg-wrap {
      --files: 6;
      --ranks: 6;
    }

    cg-board {
      background-image: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6"><rect fill="%23f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="%23b58863" x="1" y="0" width="1" height="1"/><rect fill="%23f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="%23b58863" x="3" y="0" width="1" height="1"/><rect fill="%23f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="%23b58863" x="5" y="0" width="1" height="1"/><rect fill="%23b58863" x="0" y="1" width="1" height="1"/><rect fill="%23f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="%23b58863" x="2" y="1" width="1" height="1"/><rect fill="%23f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="%23b58863" x="4" y="1" width="1" height="1"/><rect fill="%23f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="%23f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="%23b58863" x="1" y="2" width="1" height="1"/><rect fill="%23f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="%23b58863" x="3" y="2" width="1" height="1"/><rect fill="%23f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="%23b58863" x="5" y="2" width="1" height="1"/><rect fill="%23b58863" x="0" y="3" width="1" height="1"/><rect fill="%23f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="%23b58863" x="2" y="3" width="1" height="1"/><rect fill="%23f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="%23b58863" x="4" y="3" width="1" height="1"/><rect fill="%23f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="%23f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="%23b58863" x="1" y="4" width="1" height="1"/><rect fill="%23f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="%23b58863" x="3" y="4" width="1" height="1"/><rect fill="%23f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="%23b58863" x="5" y="4" width="1" height="1"/><rect fill="%23b58863" x="0" y="5" width="1" height="1"/><rect fill="%23f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="%23b58863" x="2" y="5" width="1" height="1"/><rect fill="%23f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="%23b58863" x="4" y="5" width="1" height="1"/><rect fill="%23f0d9b5" x="5" y="5" width="1" height="1"/></svg>') !important;
      background-size: 100% 100% !important;
    }

    /* Enhanced General piece (promoted pawn) */
    .cg-wrap piece.g.white,
    .cg-wrap piece.general.white {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+CiAgPGcgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICAgIDwhLS0gSGVhZCB3aXRoIHNtYWxsIGNyb3duIC0tPgogICAgPGNpcmNsZSBjeD0iMjIuNSIgY3k9IjEzIiByPSI0Ii8+CiAgICA8cGF0aCBkPSJNMTkgMTBoN2wtMSAzaC01eiIgZmlsbD0iI2ZmZiIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPgogICAgPCEtLSBCb2R5IChlbmhhbmNlZCBwYXduIHN0eWxlKSAtLT4KICAgIDxwYXRoIGQ9Ik0xOSAxNmMwLTEuNSAxLjUtMi41IDMuNS0yLjVzMy41IDEgMy41IDIuNSIvPgogICAgPHBhdGggZD0iTTE3IDI1YzAgMCAyLTQgNS41LTRzNS41IDQgNS41IDQiLz4KICAgIDwhLS0gQmFzZSAtLT4KICAgIDxwYXRoIGQ9Ik0xMyAzNWMwIDAgMy01IDkuNS01czkuNSA1IDkuNSA1eiIvPgogICAgPHBhdGggZD0iTTEyIDM2aDIxIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8L2c+Cjwvc3ZnPgo=') !important;
    }

    .cg-wrap piece.g.black,
    .cg-wrap piece.general.black {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+CiAgPGcgZmlsbD0iIzAwMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICAgIDwhLS0gSGVhZCB3aXRoIHNtYWxsIGNyb3duIC0tPgogICAgPGNpcmNsZSBjeD0iMjIuNSIgY3k9IjEzIiByPSI0IiBmaWxsPSIjMDAwIi8+CiAgICA8cGF0aCBkPSJNMTkgMTBoN2wtMSAzaC01eiIgZmlsbD0iIzAwMCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPgogICAgPCEtLSBCb2R5IChlbmhhbmNlZCBwYXduIHN0eWxlKSAtLT4KICAgIDxwYXRoIGQ9Ik0xOSAxNmMwLTEuNSAxLjUtMi41IDMuNS0yLjVzMy41IDEgMy41IDIuNSIgZmlsbD0iIzAwMCIvPgogICAgPHBhdGggZD0iTTE3IDI1YzAgMCAyLTQgNS41LTRzNS41IDQgNS41IDQiIGZpbGw9IiMwMDAiLz4KICAgIDwhLS0gQmFzZSAtLT4KICAgIDxwYXRoIGQ9Ik0xMyAzNWMwIDAgMy01IDkuNS01czkuNSA1IDkuNSA1eiIgZmlsbD0iIzAwMCIvPgogICAgPHBhdGggZD0iTTEyIDM2aDIxIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iI2ZmZiIvPgogIDwvZz4KPC9zdmc+Cg==') !important;
    }

    /* Difficulty radio buttons */
    .difficulty-group {
      display: flex;
      gap: 15px;
      margin-bottom: 10px;
    }

    .difficulty-option {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
      border: 2px solid #8B4513;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .difficulty-option:hover {
      background: #8B4513;
      color: white;
    }

    .difficulty-option input[type="radio"] {
      margin-right: 5px;
    }

    .difficulty-option:has(input:checked) {
      background: #8B4513;
      color: white;
    }

    body.dark .difficulty-option {
      border-color: #a0642f;
    }

    body.dark .difficulty-option:hover {
      background: #a0642f;
    }

    body.dark .difficulty-option:has(input:checked) {
      background: #a0642f;
    }

    /* Rules link */
    .rules-link {
      display: block;
      text-align: center;
      padding: 12px;
      background: #8B4513;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: 500;
      transition: background 0.2s;
    }

    .rules-link:hover {
      background: #6d3410;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      overflow: auto;
    }

    .modal-content {
      background-color: #fff;
      margin: 3% auto;
      padding: 30px;
      border-radius: 10px;
      max-width: 800px;
      position: relative;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    body.dark .modal-content {
      background-color: #2a2a2a;
      color: #e0e0e0;
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 25px;
      font-size: 30px;
      font-weight: bold;
      color: #aaa;
      cursor: pointer;
    }

    .modal-close:hover {
      color: #000;
    }

    body.dark .modal-close:hover {
      color: #fff;
    }

    .modal-content h2 {
      margin-bottom: 20px;
      color: #8B4513;
    }

    body.dark .modal-content h2 {
      color: #a0642f;
    }

    .modal-content h3 {
      margin-top: 20px;
      margin-bottom: 10px;
      color: #8B4513;
    }

    body.dark .modal-content h3 {
      color: #a0642f;
    }

    .modal-content h4 {
      margin-top: 15px;
      margin-bottom: 8px;
      color: #333;
    }

    body.dark .modal-content h4 {
      color: #e0e0e0;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      border-bottom: 2px solid #ddd;
    }

    body.dark .tabs {
      border-color: #444;
    }

    .tab-button {
      padding: 10px 20px;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      color: #666;
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
    }

    .tab-button:hover {
      color: #8B4513;
    }

    .tab-button.active {
      color: #8B4513;
      border-bottom-color: #8B4513;
    }

    body.dark .tab-button {
      color: #aaa;
    }

    body.dark .tab-button:hover {
      color: #a0642f;
    }

    body.dark .tab-button.active {
      color: #a0642f;
      border-bottom-color: #a0642f;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .tab-content ul {
      margin-left: 20px;
      line-height: 1.8;
    }

    .tab-content p {
      line-height: 1.6;
      margin-bottom: 10px;
    }

    .piece-explanation {
      margin-bottom: 25px;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 8px;
      border-left: 4px solid #8B4513;
    }

    body.dark .piece-explanation {
      background: #333;
      border-color: #a0642f;
    }

    .piece-diagram {
      margin: 10px 0;
    }

    .mini-board {
      width: 150px;
      height: 150px;
      border: 2px solid #8B4513;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleDarkMode()">ğŸŒ™</button>

  <header>
    <h1>NoaChess</h1>
    <p class="subtitle">A unique 6Ã—6 chess variant</p>
  </header>

  <main>
    <div class="board-wrapper">
      <div class="captured-container">
        <div id="capturedTop" class="captured-pieces"></div>
        <div id="capturedBottom" class="captured-pieces"></div>
      </div>
      <div class="board-container">
        <div id="board"></div>
      </div>
    </div>

    <div class="controls">
      <div class="section">
        <h2>Game Status</h2>
        <div id="status">Ready to play!</div>
        <div id="eval"></div>
      </div>

      <div class="section">
        <h2>Controls</h2>
        <button class="btn" onclick="newGame()">New Game</button>
        <button class="btn" onclick="flipBoard()">Flip Board</button>
        <button class="btn" onclick="undoMove()">Undo</button>
      </div>

      <div class="section">
        <h2>Game Mode</h2>
        <div class="checkbox-group">
          <input type="checkbox" id="playWhite" checked>
          <label for="playWhite">Play as White</label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="playBlack">
          <label for="playBlack">Play as Black</label>
        </div>
      </div>

      <div class="section">
        <h2>AI ë‚œì´ë„</h2>
        <div class="difficulty-group">
          <label class="difficulty-option">
            <input type="radio" name="difficulty" value="easy">
            <span>ì‰¬ì›€</span>
          </label>
          <label class="difficulty-option">
            <input type="radio" name="difficulty" value="hard" checked>
            <span>ì–´ë ¤ì›€</span>
          </label>
        </div>
        <p style="font-size: 0.85rem; color: #666; margin-top: 10px;">
          ì‰¬ì›€: ê¸°ë³¸ AI | ì–´ë ¤ì›€: Fairy-Stockfish
        </p>
      </div>

      <div class="section">
        <h2>AI ìê°€ ëŒ€êµ­</h2>
        <div class="input-group">
          <label for="autoPlayCount">ëŒ€êµ­ ìˆ˜:</label>
          <input type="number" id="autoPlayCount" value="10" min="1" max="1000">
        </div>
        <button class="btn" id="startAutoPlay" onclick="startAutoPlay()">ì‹œì‘</button>
        <button class="btn" id="stopAutoPlay" onclick="stopAutoPlay()" disabled>ì¤‘ì§€</button>
        <button class="btn" id="downloadGames" onclick="downloadGames()" disabled>ë‹¤ìš´ë¡œë“œ</button>
        <div id="autoPlayStats" style="margin-top: 15px; font-size: 0.9rem;">
          <p>No games played yet.</p>
        </div>
      </div>

      <div class="section">
        <a href="#" class="rules-link" onclick="openRulesModal(); return false;">ê·œì¹™ ì„¤ëª…</a>
      </div>
    </div>
  </main>

  <!-- Rules Modal -->
  <div id="rulesModal" class="modal">
    <div class="modal-content">
      <span class="modal-close" onclick="closeRulesModal()">&times;</span>
      <h2>NoaChess ê·œì¹™</h2>

      <div class="tabs">
        <button class="tab-button active" onclick="switchTab('basic')">ê¸°ë³¸ ê·œì¹™</button>
        <button class="tab-button" onclick="switchTab('pieces')">ê¸°ë¬¼ í–‰ë§ˆë²•</button>
        <button class="tab-button" onclick="switchTab('special')">íŠ¹ìˆ˜ ê·œì¹™</button>
      </div>

      <div id="basic-tab" class="tab-content active">
        <h3>ìŠ¹ë¦¬ ì¡°ê±´</h3>
        <p>ìƒëŒ€ë°©ì˜ í‚¹ì„ ì²´í¬ë©”ì´íŠ¸í•˜ë©´ ìŠ¹ë¦¬í•©ë‹ˆë‹¤.</p>

        <h3>ê¸°ë³¸ ê·œì¹™</h3>
        <ul>
          <li>6Ã—6 ë³´ë“œì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤</li>
          <li>ë°±ì´ ë¨¼ì € ì‹œì‘í•©ë‹ˆë‹¤</li>
          <li>í°ì€ ë§ˆì§€ë§‰ ë­í¬ì— ë„ë‹¬í•˜ë©´ ìë™ìœ¼ë¡œ ì¥êµ°ìœ¼ë¡œ ìŠ¹ê¸‰ë©ë‹ˆë‹¤
            <ul>
              <li>ë°± í°: 6ë­í¬ ë„ë‹¬ ì‹œ ìŠ¹ê¸‰</li>
              <li>í‘ í°: 1ë­í¬ ë„ë‹¬ ì‹œ ìŠ¹ê¸‰</li>
            </ul>
          </li>
          <li>ìŠ¤í…Œì¼ë©”ì´íŠ¸(êµì°© ìƒíƒœ)ëŠ” íŒ¨ë°°ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤</li>
        </ul>
      </div>

      <div id="pieces-tab" class="tab-content">
        <h3>ê¸°ë¬¼ë³„ í–‰ë§ˆë²•</h3>
        <p style="margin-bottom: 20px;"><strong>í‘œì‹œ ë°©ë²•:</strong> <span style="color: blue;">â—</span> ì´ë™ ê°€ëŠ¥ | <span style="color: red;">â—</span> ê³µê²© ê°€ëŠ¥ | <span style="color: purple;">â—</span> ì´ë™ ë° ê³µê²© ê°€ëŠ¥</p>

        <div class="piece-explanation">
          <h4>â™Ÿ í° (Pawn)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 6 6" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/>
              <circle cx="2.5" cy="2.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="2.5" cy="1.5" r="0.15" fill="blue" opacity="0.7"/>
              <circle cx="1.5" cy="2.5" r="0.15" fill="blue" opacity="0.7"/>
              <circle cx="3.5" cy="2.5" r="0.15" fill="blue" opacity="0.7"/>
              <circle cx="1.5" cy="1.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="3.5" cy="1.5" r="0.15" fill="red" opacity="0.7"/>
            </svg>
          </div>
        </div>

        <div class="piece-explanation">
          <h4>â™ ë¹„ìˆ (Bishop)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 6 6" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/>
              <circle cx="2.5" cy="2.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="1.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="0.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="0.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
            </svg>
          </div>
        </div>

        <div class="piece-explanation">
          <h4>â™œ ë£© (Rook)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 9 9" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="0" width="1" height="1"/><rect fill="#b58863" x="7" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#b58863" x="6" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="1" width="1" height="1"/><rect fill="#b58863" x="8" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="2" width="1" height="1"/><rect fill="#b58863" x="7" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#b58863" x="6" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="3" width="1" height="1"/><rect fill="#b58863" x="8" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="4" width="1" height="1"/><rect fill="#b58863" x="7" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/><rect fill="#b58863" x="6" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="5" width="1" height="1"/><rect fill="#b58863" x="8" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="6" width="1" height="1"/><rect fill="#b58863" x="1" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="6" width="1" height="1"/><rect fill="#b58863" x="3" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="6" width="1" height="1"/><rect fill="#b58863" x="5" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="6" width="1" height="1"/><rect fill="#b58863" x="7" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="6" width="1" height="1"/><rect fill="#b58863" x="0" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="7" width="1" height="1"/><rect fill="#b58863" x="2" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="7" width="1" height="1"/><rect fill="#b58863" x="4" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="7" width="1" height="1"/><rect fill="#b58863" x="6" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="7" width="1" height="1"/><rect fill="#b58863" x="8" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="8" width="1" height="1"/><rect fill="#b58863" x="1" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="8" width="1" height="1"/><rect fill="#b58863" x="3" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="8" width="1" height="1"/><rect fill="#b58863" x="5" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="8" width="1" height="1"/><rect fill="#b58863" x="7" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="8" width="1" height="1"/>
              <circle cx="4.5" cy="4.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="4.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="0.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="5.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="6.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="7.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="8.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="0.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="5.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="6.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="7.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="8.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
            </svg>
          </div>
          <p style="font-size: 0.85rem; color: #666; margin-top: 5px;">* ìµœëŒ€ 4ì¹¸ê¹Œì§€ ì´ë™/ê³µê²© ê°€ëŠ¥</p>
        </div>

        <div class="piece-explanation">
          <h4>â™› í€¸ (Queen)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 9 9" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="0" width="1" height="1"/><rect fill="#b58863" x="7" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#b58863" x="6" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="1" width="1" height="1"/><rect fill="#b58863" x="8" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="2" width="1" height="1"/><rect fill="#b58863" x="7" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#b58863" x="6" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="3" width="1" height="1"/><rect fill="#b58863" x="8" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="4" width="1" height="1"/><rect fill="#b58863" x="7" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/><rect fill="#b58863" x="6" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="5" width="1" height="1"/><rect fill="#b58863" x="8" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="6" width="1" height="1"/><rect fill="#b58863" x="1" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="6" width="1" height="1"/><rect fill="#b58863" x="3" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="6" width="1" height="1"/><rect fill="#b58863" x="5" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="6" width="1" height="1"/><rect fill="#b58863" x="7" y="6" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="6" width="1" height="1"/><rect fill="#b58863" x="0" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="7" width="1" height="1"/><rect fill="#b58863" x="2" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="7" width="1" height="1"/><rect fill="#b58863" x="4" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="7" width="1" height="1"/><rect fill="#b58863" x="6" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="7" y="7" width="1" height="1"/><rect fill="#b58863" x="8" y="7" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="8" width="1" height="1"/><rect fill="#b58863" x="1" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="8" width="1" height="1"/><rect fill="#b58863" x="3" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="8" width="1" height="1"/><rect fill="#b58863" x="5" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="6" y="8" width="1" height="1"/><rect fill="#b58863" x="7" y="8" width="1" height="1"/><rect fill="#f0d9b5" x="8" y="8" width="1" height="1"/>
              <circle cx="4.5" cy="4.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="4.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="0.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="5.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="6.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="7.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="8.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="0.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="5.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="6.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="7.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="8.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="0.5" cy="0.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="5.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="6.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="7.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="8.5" cy="0.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="5.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="6.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="7.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="0.5" cy="8.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="5.5" cy="5.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="6.5" cy="6.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="7.5" cy="7.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="8.5" cy="8.5" r="0.15" fill="purple" opacity="0.7"/>
            </svg>
          </div>
          <p style="font-size: 0.85rem; color: #666; margin-top: 5px;">* ìµœëŒ€ 4ì¹¸ê¹Œì§€ ì´ë™/ê³µê²© ê°€ëŠ¥</p>
        </div>

        <div class="piece-explanation">
          <h4>â™ ë‚˜ì´íŠ¸ (Knight)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 6 6" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/>
              <circle cx="2.5" cy="2.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="1.5" cy="0.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="0.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="0.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="0.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="4.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="4.5" r="0.15" fill="purple" opacity="0.7"/>
            </svg>
          </div>
        </div>

        <div class="piece-explanation">
          <h4>âš” ë¦¬í¼ (Leaper)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 6 6" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/>
              <circle cx="2.5" cy="2.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="2.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="0.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="0.5" cy="0.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="4.5" cy="0.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="0.5" cy="2.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="4.5" cy="2.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="2.5" cy="4.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="0.5" cy="4.5" r="0.15" fill="red" opacity="0.7"/>
              <circle cx="4.5" cy="4.5" r="0.15" fill="red" opacity="0.7"/>
            </svg>
          </div>
        </div>

        <div class="piece-explanation">
          <h4>â™š í‚¹ (King)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 6 6" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/>
              <circle cx="2.5" cy="2.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="2.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
            </svg>
          </div>
        </div>

        <div class="piece-explanation">
          <h4>ğŸ‘‘ ì¥êµ° (General)</h4>
          <div class="piece-diagram">
            <svg viewBox="0 0 6 6" class="mini-board">
              <rect fill="#f0d9b5" x="0" y="0" width="1" height="1"/><rect fill="#b58863" x="1" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="0" width="1" height="1"/><rect fill="#b58863" x="3" y="0" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="0" width="1" height="1"/><rect fill="#b58863" x="5" y="0" width="1" height="1"/><rect fill="#b58863" x="0" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="1" width="1" height="1"/><rect fill="#b58863" x="2" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="1" width="1" height="1"/><rect fill="#b58863" x="4" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="1" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="2" width="1" height="1"/><rect fill="#b58863" x="1" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="2" width="1" height="1"/><rect fill="#b58863" x="3" y="2" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="2" width="1" height="1"/><rect fill="#b58863" x="5" y="2" width="1" height="1"/><rect fill="#b58863" x="0" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="3" width="1" height="1"/><rect fill="#b58863" x="2" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="3" width="1" height="1"/><rect fill="#b58863" x="4" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="3" width="1" height="1"/><rect fill="#f0d9b5" x="0" y="4" width="1" height="1"/><rect fill="#b58863" x="1" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="2" y="4" width="1" height="1"/><rect fill="#b58863" x="3" y="4" width="1" height="1"/><rect fill="#f0d9b5" x="4" y="4" width="1" height="1"/><rect fill="#b58863" x="5" y="4" width="1" height="1"/><rect fill="#b58863" x="0" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="1" y="5" width="1" height="1"/><rect fill="#b58863" x="2" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="3" y="5" width="1" height="1"/><rect fill="#b58863" x="4" y="5" width="1" height="1"/><rect fill="#f0d9b5" x="5" y="5" width="1" height="1"/>
              <circle cx="2.5" cy="2.5" r="0.3" fill="#333" opacity="0.8"/>
              <circle cx="2.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="1.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="2.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="2.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="1.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
              <circle cx="3.5" cy="3.5" r="0.15" fill="purple" opacity="0.7"/>
            </svg>
          </div>
        </div>
      </div>

      <div id="special-tab" class="tab-content">
        <h3>ë¶ˆê°€ëŠ¥í•œ íŠ¹ìˆ˜ ê·œì¹™</h3>
        <ul>
          <li><strong>í° ì²« ìˆ˜ 2ì¹¸ ì „ì§„:</strong> ë¶ˆê°€ëŠ¥. í°ì€ í•­ìƒ 1ì¹¸ë§Œ ì´ë™ ê°€ëŠ¥</li>
          <li><strong>ì•™íŒŒìƒ (En Passant):</strong> ë¶ˆê°€ëŠ¥</li>
          <li><strong>ìºìŠ¬ë§ (Castling):</strong> ë¶ˆê°€ëŠ¥</li>
        </ul>

        <h3>ê¸°íƒ€ ê·œì¹™</h3>
        <ul>
          <li>í° ìŠ¹ê¸‰ì€ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©°, ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤</li>
          <li>ìŠ¹ê¸‰ ê¸°ë¬¼ì€ í•­ìƒ ì¥êµ°(General)ì…ë‹ˆë‹¤</li>
          <li>êµì°© ìƒíƒœ(Stalemate)ëŠ” íŒ¨ë°°ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤</li>
          <li><strong>3íšŒ ë™í˜• ë°˜ë³µ:</strong> ê°™ì€ í¬ì§€ì…˜ì´ 3ë²ˆ ë°˜ë³µë˜ë©´ ë¬´ìŠ¹ë¶€</li>
          <li><strong>í‚¹ë§Œ ë‚¨ì€ ê²½ìš°:</strong> í‚¹ ì™¸ì— ê¸°ë¬¼ì´ ì—†ìœ¼ë©´ ì¦‰ì‹œ íŒ¨ë°°</li>
        </ul>
      </div>
    </div>
  </div>

  <script src="stockfish.js"></script>
  <script src="bundle.js"></script>
  <script>
    function toggleDarkMode() {
      document.body.classList.toggle('dark');
      const btn = document.querySelector('.theme-toggle');
      btn.textContent = document.body.classList.contains('dark') ? 'â˜€ï¸' : 'ğŸŒ™';
    }

    function openRulesModal() {
      document.getElementById('rulesModal').style.display = 'block';
    }

    function closeRulesModal() {
      document.getElementById('rulesModal').style.display = 'none';
    }

    function switchTab(tabName) {
      // Hide all tabs
      const tabs = document.querySelectorAll('.tab-content');
      tabs.forEach(tab => tab.classList.remove('active'));

      // Remove active from all buttons
      const buttons = document.querySelectorAll('.tab-button');
      buttons.forEach(btn => btn.classList.remove('active'));

      // Show selected tab
      document.getElementById(tabName + '-tab').classList.add('active');

      // Highlight active button
      event.target.classList.add('active');
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('rulesModal');
      if (event.target === modal) {
        closeRulesModal();
      }
    }
  </script>
</body>
</html>
